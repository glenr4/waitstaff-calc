<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Waitstaff Calculator</title>

	<link rel="stylesheet" href="css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-messages.js"></script>
	<script src="js/app.js"></script>


</head>

<body ng-app="waitStaffApp" ng-controller="waitStaffCtrl">
	<header>
		<h1>Waitstaff Calculator</h1>
	</header>

	<section id="enter-details">
		<h2>Enter the Meal Details</h2>
		<form name="detailsForm" novalidate ng-submit="detailsForm.$valid && submit()">
			<ul>
				<li>
					<label>Base Meal Price: $
						<input type="number" name="mealPrice" ng-model="mealPrice" required>
					</label>
				</li>
				<li>
					<div ng-messages="detailsForm.mealPrice.$error" ng-if="detailsForm.$submitted">
						<p ng-message="required">This field is required</p>
					</div>					
				</li>

				<li>
					<label>Tax Rate: %
						<input type="number" name="taxRate" ng-model="taxRate" required>
					</label>
				</li>
				<li>
					<div ng-messages="detailsForm.taxRate.$error" ng-if="detailsForm.$submitted">
						<p ng-message="required">This field is required</p>
					</div>					
				</li>

				<li>
					<label>Tip Percentage: %
						<input type="number" name="tipPcnt" ng-model="tipPcnt" required>
					</label>
				</li>
				<li>
					<div ng-messages="detailsForm.tipPcnt.$error" ng-if="detailsForm.$submitted">
						<p ng-message="required">This field is required</p>
					</div>					
				</li>

			</ul>
			<div>
				<button type="submit" name="submit">Submit</button>
				<button name="cancel" ng-click="cancel()">Cancel</button>
			</div>
		</form>

		<!-- <pre>{{detailsForm | json}}</pre> -->
	</section>

	<section id="customer-charges">
		<h2>Customer Charges</h2>
		<ul>
			<li>Subtotal: {{custSubTotal | currency:$:2}}</li>
			<li>Tip: {{custTip | currency:$:2}}</li>
			<li>Total: {{custTotal | currency:$:2}}</li>
		</ul>
	</section>

	<section id="earnings">
		<h2>My Earnings Info</h2>
		<ul>
			<li>Tip Total: {{earningsTip | currency:$:2}}</li>
			<li>Meal Count: {{earningsCount}}</li>
			<li>Average Tip Per Meal: {{earningsAvgTip | currency:$:2}}</li>
		</ul>
	</section>

	<footer>
		<button name="reset" ng-click="reset()">Reset</button>
	</footer>
</body>
</html>